var osapi=osapi||{};(function(){var a=function(){var c={};var b=[];var f=function(g,h){if(h&&g){b.push({key:g,request:h});return c}};var e=function(h){var g={method:h.request.method,id:h.key};if(h.request.rpc){g.params=h.request.rpc}return g};var d=function(g){var h={};var q={};var l=0;var m=[];for(var o=0;o<b.length;o++){var k=b[o].request.transport;if(!q[k.name]){m.push(k);l++}q[k.name]=q[k.name]||[];q[k.name].push(e(b[o]))}var p=function(t){if(t.error){h.error=t.error}for(var s=0;s<b.length;s++){var r=b[s].key;var j=t[r];if(j){if(j.error){h[r]=j}else{h[r]=j.data||j.result}}}l--;if(l===0){g(h)}};for(var n=0;n<m.length;n++){m[n].execute(q[m[n].name],p)}if(l==0){window.setTimeout(function(){g(h)},0)}};c.execute=d;c.add=f;return c};osapi.newBatch=a})();