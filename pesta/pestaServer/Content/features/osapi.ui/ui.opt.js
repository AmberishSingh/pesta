var osapi=osapi||{};var gadgets=gadgets||{};gadgets.rpc=gadgets.rpc||{register:function(a,b){}};osapi.ui=function(){var g={};gadgets.rpc.register("osapi.requestShareApp_callback",e);gadgets.rpc.register("osapi.requestCreateActivity_callback",k);gadgets.rpc.register("osapi.requestPermission_callback",a);gadgets.rpc.register("osapi.requestSendMessage_callback",h);var f=function(o){var m=o.body;if(!m||m.length===0){var n=o.bodyId;m=gadgets.Prefs.getMsg(n)}return m};var j=function(p,o,n){var m={success:p};if(n){m.recipientIds=n}if(o){m.error=o}return m};var l=function(n,p,o,m){var q=g[n];if(q){g[n]=null;q(j(p,o,m))}};var b=function(o,p,q){var n="cId_"+Math.random();g[n]=q;var m=f(p);gadgets.rpc.call("..","osapi.requestShareApp",null,n,o,m)};var e=function(n,p,o,m){l(n,p,o,m)};var i=function(o,p){var n="cId_"+Math.random();g[n]=p;var m=f(o);gadgets.rpc.call("..","osapi.requestCreateActivity",null,n,m)};var k=function(m,o,n){l(m,o,n)};var d=function(n,p,q){var o="cId_"+Math.random();g[o]=q;var m=f(p);gadgets.rpc.call("..","osapi.requestPermission",null,o,n,m)};var a=function(m,o,n){l(m,o,n)};var c=function(p,n,q){var o="cId_"+Math.random();g[o]=q;var m=f(n);gadgets.rpc.call("..","osapi.requestSendMessage",null,o,p,m)};var h=function(n,p,o,m){l(n,p,o,m)};return{requestCreateActivity:i,requestShareApp:b,requestPermission:d,requestSendMessage:c}}();