var opensocial=opensocial||{};opensocial.data=opensocial.data||{};opensocial.data.DataContext=function(){var e=[];var b={};var a=function(l,o,m){var n=o;if(typeof n==="undefined"||n===null){return}if(n.getData){n=n.getData();if(n.array_){var j=[];for(var k=0;k<n.array_.length;k++){j.push(n.array_[k].fields_)}n=j}else{n=n.fields_||n}}b[l]=n;if(!(m===false)){c(l)}};var g=function(l,o,n){var j=!!n;var m={keys:{},callback:o,oneTime:j};if(typeof l==="string"){m.keys[l]=true;if(l!="*"){l=[l]}}else{for(var k=0;k<l.length;k++){m.keys[l[k]]=true}}e.push(m);if(l!=="*"&&h(m.keys)){window.setTimeout(function(){f(m,l)},1)}};var h=function(j){if(j["*"]){return true}for(var i in j){if(typeof b[i]==="undefined"){return false}}return true};var f=function(j,i){if(h(j.keys)){j.callback(i);if(j.oneTime){d(j)}}};var d=function(k){for(var j=0;j<e.length;++j){if(e[j]==k){e.splice(j,1);return}}};var c=function(n){if(typeof(n)=="string"){n=[n]}for(var m=0;m<e.length;++m){var o=e[m];for(var k=0;k<n.length;k++){var l=n[k];if(o.keys[l]||o.keys["*"]){f(o,n);break}}}};return{getData:function(){var j={};for(var i in b){if(b.hasOwnProperty(i)){j[i]=b[i]}}return j},registerListener:function(i,j){g(i,j,false)},registerOneTimeListener_:function(i,j){g(i,j,true)},getDataSet:function(i){return b[i]},putDataSet:function(i,j){a(i,j,true)},putDataSets:function(i){var k=[];for(var j in i){k.push(j);a(j,i[j],false)}c(k)}}}();opensocial.data.getDataContext=function(){return opensocial.data.DataContext};