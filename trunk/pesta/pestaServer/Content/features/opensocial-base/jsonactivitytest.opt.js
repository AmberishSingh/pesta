var gadgets=gadgets||{};var opensocial=opensocial||{};function JsonActivityTest(a){TestCase.call(this,a)}JsonActivityTest.inherits(TestCase);JsonActivityTest.prototype.setUp=function(){this.oldGetField=opensocial.Container.getField;opensocial.Container.getField=function(a,b,c){return a[b]}};JsonActivityTest.prototype.tearDown=function(){opensocial.Container.getField=this.oldGetField};JsonActivityTest.prototype.testConstructArrayObject=function(){var b={fakeClass:[{field1:"value1"},{field2:"value2"}]};FakeClass=function(c){this.fields=c};JsonActivity.constructArrayObject(b,"fakeClass",FakeClass);var a=b.fakeClass;this.assertTrue(a instanceof Array);this.assertTrue(a[0] instanceof FakeClass);this.assertTrue(a[1] instanceof FakeClass);this.assertEquals("value1",a[0].fields.field1);this.assertEquals("value2",a[1].fields.field2)};JsonActivityTest.prototype.testJsonActivityConstructor=function(){var d=new JsonActivity({title:"green",mediaItems:[{mimeType:"black",url:"white",type:"orange"}]});var a=opensocial.Activity.Field;this.assertEquals("green",d.getField(a.TITLE));var c=d.getField(a.MEDIA_ITEMS);this.assertTrue(c instanceof Array);this.assertTrue(c[0] instanceof JsonMediaItem);var b=opensocial.MediaItem.Field;this.assertEquals("black",c[0].getField(b.MIME_TYPE));this.assertEquals("white",c[0].getField(b.URL));this.assertEquals("orange",c[0].getField(b.TYPE))};JsonActivityTest.prototype.testJsonMediaItemConstructor=function(){var b=new JsonMediaItem({mimeType:"black",url:"white",type:"orange"});var a=opensocial.MediaItem.Field;this.assertEquals("black",b.getField(a.MIME_TYPE));this.assertEquals("white",b.getField(a.URL));this.assertEquals("orange",b.getField(a.TYPE))};