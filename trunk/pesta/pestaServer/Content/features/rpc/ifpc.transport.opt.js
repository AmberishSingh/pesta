var gadgets=gadgets||{};gadgets.rpctx=gadgets.rpctx||{};gadgets.rpctx.ifpc=function(){var e=[];var d=0;var c;function b(h){var f=[];for(var k=0,g=h.length;k<g;++k){f.push(encodeURIComponent(gadgets.json.stringify(h[k])))}return f.join("&")}function a(j){var g;for(var f=e.length-1;f>=0;--f){var k=e[f];try{if(k&&(k.recyclable||k.readyState==="complete")){k.parentNode.removeChild(k);if(window.ActiveXObject){e[f]=k=null;e.splice(f,1)}else{k.recyclable=false;g=k;break}}}catch(h){}}if(!g){g=document.createElement("iframe");g.style.border=g.style.width=g.style.height="0px";g.style.visibility="hidden";g.style.position="absolute";g.onload=function(){this.recyclable=true};e.push(g)}g.src=j;setTimeout(function(){document.body.appendChild(g)},0)}return{getCode:function(){return"ifpc"},isParentVerifiable:function(){return true},init:function(f,g){c=g;c("..",true);return true},setup:function(g,f){c(g,true);return true},call:function(f,k,i){var j=gadgets.rpc.getRelayUrl(f);++d;if(!j){gadgets.warn("No relay file assigned for IFPC");return}var h=null;if(i.l){var g=i.a;h=[j,"#",b([k,d,1,0,b([k,i.s,"","",k].concat(g))])].join("")}else{h=[j,"#",f,"&",k,"@",d,"&1&0&",encodeURIComponent(gadgets.json.stringify(i))].join("")}a(h);return true}}}();